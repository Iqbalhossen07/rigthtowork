<!DOCTYPE html>
<html lang="en" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Dashboard</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Merriweather:wght@400;700;900&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      :root {
        --bg-gradient-light: linear-gradient(
          135deg,
          #d4e0f7 0%,
          #f3e8f4 50%,
          #d4e0f7 100%
        );
        --bg-main-light: transparent; /* Main content is transparent to show body gradient */
        --bg-sidebar-light: #ffffff;
        --text-color-light: #4a5568;
        --card-bg-light: rgba(
          255,
          255,
          255,
          0.85
        ); /* Slightly transparent card */
        --border-color-light: #e2e8f0;
        --header-bg-light: rgba(
          255,
          255,
          255,
          0.7
        ); /* Header with backdrop blur */

        --bg-gradient-dark: linear-gradient(
          135deg,
          #1a222e 0%,
          #10151d 50%,
          #1a222e 100%
        );
        --bg-main-dark: transparent;
        --bg-sidebar-dark: #1f2937; /* Dark gray for sidebar */
        --text-color-dark: #e2e8f0;
        --card-bg-dark: rgba(
          29,
          41,
          59,
          0.85
        ); /* Slightly transparent dark card */
        --border-color-dark: #4a5568;
        --header-bg-dark: rgba(29, 41, 59, 0.7);
      }

      body {
        font-family: "Lora", serif;
        transition: background 0.3s ease-in-out;
      }

      body.light {
        background: var(--bg-gradient-light);
        color: var(--text-color-light);
      }
      body.dark {
        background: var(--bg-gradient-dark);
        color: var(--text-color-dark);
      }

      h1,
      h2,
      h3,
      .stat-title,
      .agent-name,
      .performance-header {
        font-family: "Merriweather", serif;
        font-weight: 700;
      }

      /* Elements that change based on theme */
      .main-content-area {
        background-color: var(--bg-main-light);
      }
      .sidebar {
        background-color: var(--bg-sidebar-light);
      }
      .header-top {
        background-color: var(--header-bg-light);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }
      .stat-card,
      .chart-card,
      .table-card {
        background-color: var(--card-bg-light);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        border: 1px solid var(--border-color-light);
      }
      .border-theme {
        border-color: var(--border-color-light);
      }
      .text-theme-primary {
        color: #374151;
      }
      .text-theme-secondary {
        color: #6b7280;
      }

      body.dark .main-content-area {
        background-color: var(--bg-main-dark);
      }
      body.dark .sidebar {
        background-color: var(--bg-sidebar-dark);
      }
      body.dark .header-top {
        background-color: var(--header-bg-dark);
      }
      body.dark .stat-card,
      body.dark .chart-card,
      body.dark .table-card {
        background-color: var(--card-bg-dark);
        border: 1px solid var(--border-color-dark);
      }
      body.dark .border-theme {
        border-color: var(--border-color-dark);
      }
      body.dark .text-theme-primary {
        color: #f3f4f6;
      }
      body.dark .text-theme-secondary {
        color: #9ca3af;
      }
      body.dark .text-gray-500 {
        color: #9ca3af;
      }
      body.dark .text-gray-800 {
        color: #f9fafb;
      }
      body.dark .text-gray-600 {
        color: #d1d5db;
      }
      body.dark .text-gray-400 {
        color: #9ca3af;
      }
      body.dark .text-indigo-600 {
        color: #a5b4fc;
      }
      body.dark .bg-indigo-50 {
        background-color: rgba(129, 140, 248, 0.1);
      }
      body.dark .hover\:bg-gray-100:hover {
        background-color: #374151;
      }
      body.dark .bg-indigo-600 {
        background-color: #818cf8;
      }
      body.dark .hover\:bg-indigo-700:hover {
        background-color: #6366f1;
      }
      body.dark input {
        background-color: #374151;
        border-color: #4b5563;
        color: #f9fafb;
      }
      body.dark input::placeholder {
        color: #9ca3af;
      }

      /* Hamburger menu overlay */
      .overlay {
        visibility: hidden;
        opacity: 0;
        transition: visibility 0s 0.3s, opacity 0.3s linear;
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 100;
      }
      .overlay.active {
        visibility: visible;
        opacity: 1;
        transition: opacity 0.3s linear;
      }
      .overlay-content {
        background-color: var(--bg-sidebar-light);
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 16rem; /* 256px */
        padding: 1rem;
      }
      body.dark .overlay-content {
        background-color: var(--bg-sidebar-dark);
      }
      .overlay.active .overlay-content {
        transform: translateX(0);
      }

      .shadow-soft-1 {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.07),
          0 2px 4px -2px rgba(0, 0, 0, 0.07);
      }
      .shadow-soft-2 {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.09),
          0 4px 6px -4px rgba(0, 0, 0, 0.09);
      }
    </style>
  </head>
  <body class="flex flex-col md:flex-row min-h-screen">
    <div id="mobileMenuOverlay" class="overlay md:hidden">
      <div class="overlay-content">
        <div
          class="flex justify-between items-center pb-4 border-b border-theme"
        >
          <h1 class="text-xl font-black text-indigo-600">Phantom</h1>
          <button
            onclick="toggleMobileMenu()"
            class="text-gray-500 hover:text-gray-700"
          >
            <i class="fas fa-times text-2xl"></i>
          </button>
        </div>
        <nav class="mt-8 flex flex-col space-y-4">
          <a
            href="#"
            class="flex items-center px-4 py-3 text-indigo-600 bg-indigo-50 rounded-lg"
          >
            <i class="fas fa-chart-pie w-6"></i>
            <span class="ml-4 font-semibold">Dashboard</span>
          </a>

          <a
            href="#"
            class="flex items-center px-4 py-3 text-gray-500 hover:bg-gray-100 hover:text-gray-700 rounded-lg"
          >
            <i class="fas fa-bell w-6"></i>
            <span class="ml-4">Notifications</span>
          </a>
          <a
            href="#"
            class="flex items-center px-4 py-3 text-gray-500 hover:bg-gray-100 hover:text-gray-700 rounded-lg"
          >
            <i class="fas fa-cog w-6"></i>
            <span class="ml-4">Settings</span>
          </a>
        </nav>
        <div
          class="mt-auto pt-4 border-t border-theme absolute bottom-4 w-[calc(100%-2rem)]"
        >
          <button
            id="themeToggleMobile"
            class="w-full flex items-center justify-center p-3 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"
          >
            <i class="fas fa-sun text-lg light-icon"></i>
            <i class="fas fa-moon text-lg dark-icon hidden"></i>
            <span class="ml-3">Switch Theme</span>
          </button>
        </div>
      </div>
    </div>

    <aside
      class="w-20 lg:w-64 sidebar border-r border-theme flex-shrink-0 hidden md:flex flex-col items-center lg:items-stretch transition-all duration-300"
    >
      <div class="p-4 lg:p-6 text-center border-b border-theme">
        <h1
          class="text-xl lg:text-3xl font-black text-indigo-600 hidden lg:block"
        >
          Phantom
        </h1>
        <i class="fas fa-ghost text-3xl text-indigo-600 lg:hidden"></i>
      </div>
      <nav class="flex-1 mt-6">
        <a
          href="#"
          class="flex border-l-4 border-indigo-500 items-center justify-center lg:justify-start px-4 py-3 text-indigo-600 bg-indigo-50 rounded-lg mx-2"
        >
          <i class="fas fa-chart-pie w-6 text-center lg:text-left"></i>
          <span class="ml-4 hidden lg:block font-semibold">Dashboard</span>
        </a>

        <a
          href="#"
          class="flex items-center justify-center lg:justify-start px-4 py-3 text-gray-500 hover:bg-gray-100 hover:text-gray-700 rounded-lg mx-2 mt-2"
        >
          <i class="fas fa-bell w-6 text-center lg:text-left"></i>
          <span class="ml-4 hidden lg:block">Notifications</span>
        </a>
        <a
          href="#"
          class="flex items-center justify-center lg:justify-start px-4 py-3 text-gray-500 hover:bg-gray-100 hover:text-gray-700 rounded-lg mx-2 mt-2"
        >
          <i class="fas fa-cog w-6 text-center lg:text-left"></i>
          <span class="ml-4 hidden lg:block">Settings</span>
        </a>
      </nav>
      <div class="p-4 border-t border-theme mt-auto">
        <button
          id="themeToggleDesktop"
          class="w-full p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none flex items-center justify-center"
        >
          <i class="fas fa-sun text-lg light-icon"></i>
          <i class="fas fa-moon text-lg dark-icon hidden"></i>
          <span class="hidden lg:inline ml-2">Theme</span>
        </button>
      </div>
    </aside>

    <div class="flex-1 flex flex-col overflow-x-hidden">
      <header
        class="header-top sticky top-0 w-full p-4 flex justify-between items-center border-b border-theme z-40"
      >
        <div class="flex items-center">
          <h1 class="text-xl md:hidden font-black text-indigo-600">Phantom</h1>
          <h2 class="hidden md:block text-2xl font-bold text-theme-primary">
            Dashboard
          </h2>
        </div>
        <div class="flex items-center space-x-4">
          <div class="hidden md:flex items-center space-x-2">
            <input
              type="text"
              placeholder="Search..."
              class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"
            />
           
          </div>
          <img
            src="https://i.pravatar.cc/40?img=68"
            alt="Profile"
            class="w-10 h-10 rounded-full border-2 border-indigo-400"
          />
        </div>
      </header>

      <main class="flex-1 p-4 md:p-6 lg:p-8 main-content-area pb-24 md:pb-8">
        <div
          data-aos="fade-down"
          class="relative bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-700 dark:to-purple-800 text-white p-6 md:p-8 rounded-2xl shadow-lg mb-6 overflow-hidden"
        >
          <div class="relative z-10">
            <h2 class="text-xl md:text-3xl font-bold font-merriweather">
              Welcome Back, User!
            </h2>
            <p class="mt-2 text-indigo-100 max-w-2xl font-lora text-sm">
              Your dedication and hard work are the driving forces behind our
              success. Keep inspiring the team!
            </p>
            <div
              class="mt-5 inline-flex items-center bg-black/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-semibold"
            >
              <i class="fas fa-calendar-day mr-2"></i>
              <span>Friday, October 3, 2025</span>
            </div>
          </div>
          <i
            class="fas fa-ghost absolute -right-4 -bottom-8 text-white/5 text-[120px] transform -rotate-12"
          ></i>
        </div>

        <div
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6"
          data-aos="fade-down"
          data-aos-delay="300"
        >
          <div
            class="stat-card bg-white p-5 rounded-xl shadow-soft-1 border-l-4 border-indigo-500 group hover:shadow-soft-2 hover:-translate-y-1.5 hover:scale-105 transition-all duration-300 cursor-pointer hover:bg-indigo-500/5 dark:hover:bg-indigo-500/10"
          >
            <div class="flex items-center gap-5">
              <div
                class="h-14 w-14 bg-indigo-500/10 text-indigo-500 rounded-full flex items-center justify-center shadow-lg shadow-indigo-500/30 group-hover:bg-indigo-500 group-hover:text-white transition-all duration-300"
              >
                <i class="fas fa-flag text-xl"></i>
              </div>
              <div>
                <p class="text-slate-500 dark:text-slate-400 text-sm">
                  Flagged Calls
                </p>
                <p
                  class="text-2xl font-bold text-gray-800 dark:text-gray-800 group-hover:text-indigo-500 transition-colors duration-300"
                >
                  1,765
                </p>
              </div>
            </div>
          </div>

          <div
            class="stat-card bg-white p-5 rounded-xl shadow-soft-1 border-l-4 border-teal-500 group hover:shadow-soft-2 hover:-translate-y-1.5 hover:scale-105 transition-all duration-300 cursor-pointer hover:bg-teal-500/5 dark:hover:bg-teal-500/10"
          >
            <div class="flex items-center gap-5">
              <div
                class="h-14 w-14 bg-teal-500/10 text-teal-500 rounded-full flex items-center justify-center shadow-lg shadow-teal-500/30 group-hover:bg-teal-500 group-hover:text-white transition-all duration-300"
              >
                <i class="fas fa-clock text-xl"></i>
              </div>
              <div>
                <p class="text-slate-500 dark:text-slate-400 text-sm">
                  Avg. Call Duration
                </p>
                <p
                  class="text-2xl font-bold text-gray-800 dark:text-gray-800 group-hover:text-teal-500 transition-colors duration-300"
                >
                  1m:36s
                </p>
              </div>
            </div>
          </div>

          <div
            class="stat-card bg-white p-5 rounded-xl shadow-soft-1 border-l-4 border-red-500 group hover:shadow-soft-2 hover:-translate-y-1.5 hover:scale-105 transition-all duration-300 cursor-pointer hover:bg-red-500/5 dark:hover:bg-red-500/10"
          >
            <div class="flex items-center gap-5">
              <div
                class="h-14 w-14 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center shadow-lg shadow-red-500/30 group-hover:bg-red-500 group-hover:text-white transition-all duration-300"
              >
                <i class="fas fa-users text-xl"></i>
              </div>
              <div>
                <p class="text-slate-500 dark:text-slate-400 text-sm">
                  Total Interaction
                </p>
                <p
                  class="text-2xl font-bold text-gray-800 dark:text-gray-800 group-hover:text-red-500 transition-colors duration-300"
                >
                  2,045
                </p>
              </div>
            </div>
          </div>

          <div
            class="stat-card bg-white p-5 rounded-xl shadow-soft-1 border-l-4 border-sky-500 group hover:shadow-soft-2 hover:-translate-y-1.5 hover:scale-105 transition-all duration-300 cursor-pointer hover:bg-sky-500/5 dark:hover:bg-sky-500/10"
          >
            <div class="flex items-center gap-5">
              <div
                class="h-14 w-14 bg-sky-500/10 text-sky-500 rounded-full flex items-center justify-center shadow-lg shadow-sky-500/30 group-hover:bg-sky-500 group-hover:text-white transition-all duration-300"
              >
                <i class="fas fa-clipboard-check text-xl"></i>
              </div>
              <div>
                <p class="text-slate-500 dark:text-slate-400 text-sm">
                  Total Call Score
                </p>
                <p
                  class="text-2xl font-bold text-gray-800 dark:text-gray-800 group-hover:text-sky-500 transition-colors duration-300"
                >
                  24%
                </p>
              </div>
            </div>
          </div>

          <div
            class="stat-card bg-white p-5 rounded-xl shadow-soft-1 border-l-4 border-teal-500 group hover:shadow-soft-2 hover:-translate-y-1.5 hover:scale-105 transition-all duration-300 cursor-pointer hover:bg-teal-500/5 dark:hover:bg-teal-500/10"
          >
            <div class="flex items-center gap-5">
              <div
                class="h-14 w-14 bg-teal-500/10 text-teal-500 rounded-full flex items-center justify-center shadow-lg shadow-teal-500/30 group-hover:bg-teal-500 group-hover:text-white transition-all duration-300"
              >
                <i class="fas fa-clock text-xl"></i>
              </div>
              <div>
                <p class="text-slate-500 dark:text-slate-400 text-sm">
                  Avg. Call Duration
                </p>
                <p
                  class="text-2xl font-bold text-gray-800 dark:text-gray-800 group-hover:text-teal-500 transition-colors duration-300"
                >
                  1m:36s
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-6">
          <div
            class="lg:col-span-2 chart-card p-6 rounded-xl shadow-lg"
            data-aos="fade-right"
          >
            <h3 class="text-lg font-bold text-theme-primary">
              Call Volume & Avg. Handle Time
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
              <div><canvas id="callVolumeChart"></canvas></div>
              <div><canvas id="handleTimeChart"></canvas></div>
            </div>
          </div>
          <div class="chart-card p-6 rounded-xl shadow-lg" data-aos="fade-left">
            <div class="flex justify-between items-center">
              <h3 class="text-lg font-bold text-theme-primary">
                Agent Leaderboard
              </h3>
              <a href="#" class="text-sm text-indigo-600 font-semibold"
                >View All</a
              >
            </div>
            <div class="mt-4 space-y-4">
              <div class="flex items-center">
                <img
                  src="https://i.pravatar.cc/40?u=alex"
                  class="w-10 h-10 rounded-full"
                  alt="Alex"
                />
                <div class="ml-3">
                  <p class="font-semibold agent-name text-theme-primary">
                    Alex Shotay
                  </p>
                  <p class="text-sm text-gray-500">Laniascale</p>
                </div>
                <div class="ml-auto text-right">
                  <p class="text-sm font-bold text-green-600">86%</p>
                  <p class="text-xs text-gray-400">QA Score</p>
                </div>
              </div>
              <div class="flex items-center">
                <img
                  src="https://i.pravatar.cc/40?u=jim"
                  class="w-10 h-10 rounded-full"
                  alt="Jim"
                />
                <div class="ml-3">
                  <p class="font-semibold agent-name text-theme-primary">
                    Jim Sullivan
                  </p>
                  <p class="text-sm text-gray-500">Ravental</p>
                </div>
                <div class="ml-auto text-right">
                  <p class="text-sm font-bold text-green-600">80%</p>
                  <p class="text-xs text-gray-400">QA Score</p>
                </div>
              </div>
              <div class="flex items-center">
                <img
                  src="https://i.pravatar.cc/40?u=logan"
                  class="w-10 h-10 rounded-full"
                  alt="Logan"
                />
                <div class="ml-3">
                  <p class="font-semibold agent-name text-theme-primary">
                    Logan Turner
                  </p>
                  <p class="text-sm text-gray-500">Sabertooth</p>
                </div>
                <div class="ml-auto text-right">
                  <p class="text-sm font-bold text-orange-500">79%</p>
                  <p class="text-xs text-gray-400">QA Score</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="table-card p-6 rounded-xl shadow-lg mt-6"
          data-aos="fade-up"
        >
          <h3 class="text-lg font-bold text-theme-primary performance-header">
            Performance List
          </h3>
          <div class="overflow-x-auto mt-4">
            <table class="w-full text-left min-w-[640px]">
              <thead class="border-b border-theme">
                <tr>
                  <th class="py-2 px-4 text-sm font-semibold text-gray-500">
                    AGENT NAME
                  </th>
                  <th class="py-2 px-4 text-sm font-semibold text-gray-500">
                    TEAM
                  </th>
                  <th class="py-2 px-4 text-sm font-semibold text-gray-500">
                    QA SCORE
                  </th>
                  <th class="py-2 px-4 text-sm font-semibold text-gray-500">
                    SENTIMENT
                  </th>
                  <th class="py-2 px-4 text-sm font-semibold text-gray-500">
                    AUDITED DATE
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr
                  class="border-b border-theme hover:bg-gray-50 dark:hover:bg-gray-700/50"
                >
                  <td class="py-3 px-4 font-semibold text-theme-primary">
                    Alex Shotay
                  </td>
                  <td class="py-3 px-4 text-theme-secondary">Sabertooth</td>
                  <td class="py-3 px-4 text-green-500 font-bold">86%</td>
                  <td class="py-3 px-4 text-green-500">Positive</td>
                  <td class="py-3 px-4 text-theme-secondary">Nov 08, 2024</td>
                </tr>
                <tr
                  class="border-b border-theme hover:bg-gray-50 dark:hover:bg-gray-700/50"
                >
                  <td class="py-3 px-4 font-semibold text-theme-primary">
                    Jim Sullivan
                  </td>
                  <td class="py-3 px-4 text-theme-secondary">Ravental</td>
                  <td class="py-3 px-4 text-green-500 font-bold">80%</td>
                  <td class="py-3 px-4 text-theme-secondary">Neutral</td>
                  <td class="py-3 px-4 text-theme-secondary">Nov 07, 2024</td>
                </tr>
                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50">
                  <td class="py-3 px-4 font-semibold text-theme-primary">
                    Logan Turner
                  </td>
                  <td class="py-3 px-4 text-theme-secondary">Sabertooth</td>
                  <td class="py-3 px-4 text-orange-500 font-bold">79%</td>
                  <td class="py-3 px-4 text-red-500">Negative</td>
                  <td class="py-3 px-4 text-theme-secondary">Nov 06, 2024</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </main>
    </div>

    <nav
      class="fixed bottom-0 left-0 w-full header-top border-t border-theme shadow-lg md:hidden z-50"
    >
      <div class="flex justify-around items-center h-16">
        <a
          href="#"
          class="flex flex-col items-center justify-center text-indigo-600 w-1/5 pt-2 pb-1"
        >
          <i class="fas fa-chart-pie text-xl"></i>
          <span class="text-xs mt-1">Dashboard</span>
        </a>
    
        <a
          href="#"
          class="flex flex-col items-center justify-center text-gray-500 w-1/5 pt-2 pb-1"
        >
          <i class="fas fa-bell text-xl"></i>
          <span class="text-xs mt-1">Alerts</span>
        </a>
        <a
          href="#"
          class="flex flex-col items-center justify-center text-gray-500 w-1/5 pt-2 pb-1"
        >
          <i class="fas fa-cog text-xl"></i>
          <span class="text-xs mt-1">Settings</span>
        </a>
        <button
          onclick="toggleMobileMenu()"
          class="flex flex-col items-center justify-center text-gray-600 w-1/5 pt-2 pb-1"
        >
          <i class="fas fa-bars text-xl"></i>
          <span class="text-xs mt-1">Menu</span>
        </button>
      </div>
    </nav>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 800,
        once: true,
      });

      // --- Theme Toggling Logic ---
      const htmlElement = document.documentElement;
      const bodyElement = document.body;
      const themeToggleDesktop = document.getElementById("themeToggleDesktop");
      const themeToggleMobile = document.getElementById("themeToggleMobile");

      function updateThemeIcons(isDark) {
        document
          .querySelectorAll(".light-icon")
          .forEach((i) =>
            isDark ? i.classList.add("hidden") : i.classList.remove("hidden")
          );
        document
          .querySelectorAll(".dark-icon")
          .forEach((i) =>
            isDark ? i.classList.remove("hidden") : i.classList.add("hidden")
          );
      }

      function setTheme(theme) {
        htmlElement.classList.remove("light", "dark");
        htmlElement.classList.add(theme);
        bodyElement.classList.remove("light", "dark");
        bodyElement.classList.add(theme);
        localStorage.setItem("theme", theme);
        updateThemeIcons(theme === "dark");
        if (typeof updateChartThemes === "function") {
          updateChartThemes();
        }
      }

      function toggleTheme() {
        const currentTheme = htmlElement.classList.contains("dark")
          ? "light"
          : "dark";
        setTheme(currentTheme);
      }

      themeToggleDesktop.addEventListener("click", toggleTheme);
      themeToggleMobile.addEventListener("click", toggleTheme);

      // --- Mobile Menu Logic ---
      const mobileMenuOverlay = document.getElementById("mobileMenuOverlay");
      function toggleMobileMenu() {
        const isActive = mobileMenuOverlay.classList.toggle("active");
        document.body.style.overflow = isActive ? "hidden" : "";
      }
      mobileMenuOverlay.addEventListener("click", function (event) {
        if (event.target === mobileMenuOverlay) {
          toggleMobileMenu();
        }
      });

      // --- Chart.js implementation ---
      let callVolumeChart, handleTimeChart;

      function getChartColors() {
        const isDark = htmlElement.classList.contains("dark");
        return {
          outboundBg: isDark ? "#6366F1" : "#A78BFA",
          inboundBg: isDark ? "#4338CA" : "#6D28D9",
          averageBorder: isDark ? "#34D399" : "#6EE7B7",
          totalBorder: isDark ? "#A78BFA" : "#8B5CF6",
          gridColor: isDark
            ? "rgba(255, 255, 255, 0.1)"
            : "rgba(0, 0, 0, 0.05)",
          textColor: isDark ? "#E2E8F0" : "#4A5568",
        };
      }

      function createCharts() {
        const colors = getChartColors();
        const callVolumeCtx = document
          .getElementById("callVolumeChart")
          ?.getContext("2d");
        const handleTimeCtx = document
          .getElementById("handleTimeChart")
          ?.getContext("2d");

        if (!callVolumeCtx || !handleTimeCtx) return;

        callVolumeChart = new Chart(callVolumeCtx, {
          type: "bar",
          data: {
            labels: ["Oct", "Nov", "Dec", "Jan"],
            datasets: [
              {
                label: "Outbound",
                data: [120, 190, 300, 250],
                backgroundColor: colors.outboundBg,
                borderRadius: 5,
              },
              {
                label: "Inbound",
                data: [80, 150, 280, 350],
                backgroundColor: colors.inboundBg,
                borderRadius: 5,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                align: "end",
                labels: { color: colors.textColor, boxWidth: 12 },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: { color: colors.gridColor },
                ticks: { color: colors.textColor },
              },
              x: {
                grid: { display: false },
                ticks: { color: colors.textColor },
              },
            },
          },
        });

        handleTimeChart = new Chart(handleTimeCtx, {
          type: "line",
          data: {
            labels: ["Oct", "Nov", "Dec", "Jan"],
            datasets: [
              {
                label: "Average",
                data: [180, 220, 280, 310],
                borderColor: colors.averageBorder,
                tension: 0.3,
              },
              {
                label: "Total",
                data: [200, 250, 300, 350],
                borderColor: colors.totalBorder,
                tension: 0.3,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                align: "end",
                labels: { color: colors.textColor, boxWidth: 12 },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: { color: colors.gridColor },
                ticks: { color: colors.textColor },
              },
              x: {
                grid: { display: false },
                ticks: { color: colors.textColor },
              },
            },
          },
        });
      }

      function updateChartThemes() {
        if (!callVolumeChart || !handleTimeChart) return;
        const colors = getChartColors();

        [callVolumeChart, handleTimeChart].forEach((chart) => {
          chart.options.plugins.legend.labels.color = colors.textColor;
          chart.options.scales.y.grid.color = colors.gridColor;
          chart.options.scales.y.ticks.color = colors.textColor;
          chart.options.scales.x.ticks.color = colors.textColor;
        });

        callVolumeChart.data.datasets[0].backgroundColor = colors.outboundBg;
        callVolumeChart.data.datasets[1].backgroundColor = colors.inboundBg;

        handleTimeChart.data.datasets[0].borderColor = colors.averageBorder;
        handleTimeChart.data.datasets[1].borderColor = colors.totalBorder;

        callVolumeChart.update();
        handleTimeChart.update();
      }

      // Initial Load
      document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "light";
        setTheme(savedTheme);
        createCharts();
      });
    </script>
  </body>
</html>
